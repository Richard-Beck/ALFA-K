---
title: "Testing similarity metrics"
author: "Richard J Beck"
date: "3/10/2023"
output: html_document
---

Various ways of establishing similarity between populations.

```{r setup, include=FALSE}
knitr::opts_knit$set(root.dir="~/projects/008_birthrateLandscape/ALFA-K/")
```


```{r}
source("utils/landscape_functions.R")
source("utils/ALFA-K.R")
source("utils/comparison_functions.R")
library(ggplot2)
library(fields)
library(parallel)
```

```{r,include=F,eval=F}
source("figures/testing_similarity/eval_comparison_metrics.R") 
```

```{r}

x <- readRDS("figures/testing_similarity/data/metrics.Rds")
x <- x[!is.na(x$angle),]
xx <- x[x$test==x$ref,]
xy <- x[x$test!=x$ref,]

median(xy$ll)
mean(!is.finite(xy$ll))
mean(!is.finite(xx$ll))

hist(xy$angle)
hist(xy$dwass)
hist(xx$dwass)
```

